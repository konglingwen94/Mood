(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1bc89c42"],{"0c08":function(e,t,s){"use strict";var a=s("8c2a"),o=s.n(a);o.a},"1b8e":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-page"},[s("Login",{on:{handleOpenPopup:e.handleOpenPopup}}),s("ul",{staticClass:"bg-bubbles"},e._l(10,(function(e){return s("li",{key:e})})),0),s("div",{staticClass:"hint"},[e._v("永远相信美好的事情即将发生...")]),s("transition",{attrs:{name:"fade"}},[e.popupTitle?s("section",{staticClass:"create"},[s("div",{staticClass:"create-form"},[s("h3",[e._v(e._s(e.popupTitle))]),"Create Account"==e.popupTitle?[s("Register",{on:{handleOpenPopup:e.handleOpenPopup}})]:[s("ForgotPassword",{on:{handleOpenPopup:e.handleOpenPopup}})],s("span",{staticClass:"el-icon-circle-close",on:{click:e.closePopup}})],2)]):e._e()])],1)},o=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-form"},[a("h2",[e._v("Welcome Home!")]),a("div",{staticClass:"form-item"},[a("div",{staticClass:"ipt user"},[a("el-input",{attrs:{placeholder:"Name"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),a("img",{attrs:{src:s("dce9")}})],1),a("div",{staticClass:"ipt pass"},[a("el-input",{attrs:{placeholder:"Password","show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),a("img",{attrs:{src:s("64cd")}})],1),a("img",{attrs:{src:s("fd96")}}),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.login}},[e._v("sign in")]),a("p",{staticClass:"options"},[a("span",{on:{click:function(t){return e.showPopup("Create Account")}}},[e._v("- register")]),e._v(" or "),a("span",{on:{click:function(t){return e.showPopup("Forgot Password")}}},[e._v("Password -")])])],1)])},i=[],r={name:"Login",data(){return{form:{},loading:!1}},methods:{showPopup(e){this.$emit("handleOpenPopup",{popupTitle:e})},login(){this.loading=!0,this.$request(()=>this.$http.post("/login",this.form).then(e=>{1===e.data.status?(localStorage.setItem("Authorization",e.data.body.token),this.$message.success("success"),this.$router.push("/"),this.$infoUpdate()):this.$message.error(e.data.body),this.loading=!1}),"#app",!1)}}},l=r,p=(s("b361"),s("2877")),c=Object(p["a"])(l,n,i,!1,null,"76b2b8e0",null),u=c.exports,d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"register"},[s("el-form",[e._l(e.formType,(function(t,a,o){return["Email Type"==t?[s("el-form-item",{key:o,attrs:{label:t}},[s("el-radio-group",{model:{value:e.form[a],callback:function(t){e.$set(e.form,a,t)},expression:"form[key]"}},[s("el-radio",{attrs:{label:"QQ"}}),s("el-radio",{attrs:{label:"163"}})],1)],1)]:"Email PASS"==t?[s("el-tooltip",{key:o,staticClass:"item",attrs:{effect:"dark",content:"在邮箱设置开启SMTP服务器可获取PASS码",placement:"top"}},[s("el-input",{attrs:{placeholder:t},model:{value:e.form[a],callback:function(t){e.$set(e.form,a,t)},expression:"form[key]"}})],1)]:[s("el-input","password"==a||"passwords"==a?{key:o,attrs:{"show-password":"",placeholder:t,type:"password"},model:{value:e.form[a],callback:function(t){e.$set(e.form,a,t)},expression:"form[key]"}}:{key:o,attrs:{placeholder:t},model:{value:e.form[a],callback:function(t){e.$set(e.form,a,t)},expression:"form[key]"}})]]})),s("el-button",{attrs:{loading:e.loading},on:{click:e.register}},[e._v("register")])],2),e._m(0)],1)},m=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[s("span",{staticClass:"el-icon-warning"}),e._v(" 安全考虑，账号只可注册一次！")])}],f={name:"Register",data(){return{form:{},formType:{name:"Name",password:"Password",passwords:"Confirm Password",email:"Email",pass:"Email PASS",emailType:"Email Type"},loading:!1}},methods:{register(){6==Object.keys(this.form).length?this.form.password===this.form.passwords?(this.loading=!0,this.$request(()=>this.$http.post("/user",this.form).then(e=>{1==e.data.status?(this.$message.success(e.data.body.message),this.form={},this.$emit("handleOpenPopup",{})):this.$alert(e.data.body,"注册失败",{confirmButtonText:"确定"}),this.loading=!1}),"#app",!1)):this.$message.error("密码不一致"):this.$message.error("请填写完整信息")}}},h=f,g=(s("4c72"),Object(p["a"])(h,d,m,!1,null,"6bc295bd",null)),b=g.exports,v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-form",[s("el-input",{attrs:{placeholder:"Please enter your email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),s("el-button",{attrs:{loading:e.loading},on:{click:e.sendEmail}},[e._v("SUBMIT")])],1),e._m(0)],1)},w=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[s("span",{staticClass:"el-icon-warning"}),e._v(" 邮箱必须填写对应的 Emali PASS，才能发送邮件！ ")])}],P={name:"ForgotPassword",data(){return{email:"",loading:!1}},methods:{sendEmail(){this.loading=!0,this.$request(()=>this.$http.post("/forgotPassword",{email:this.email}).then(e=>{let t="发送成功";1==e.data.status?this.$emit("handleOpenPopup",{}):t="发送失败",this.$alert(e.data.body,t,{confirmButtonText:"确定"}),this.loading=!1}))}}},$=P,_=(s("9df2"),Object(p["a"])($,v,w,!1,null,"14f5a549",null)),k=_.exports,y={components:{Login:u,Register:b,ForgotPassword:k},data(){return{popupTitle:""}},methods:{handleOpenPopup({popupTitle:e}){this.popupTitle=e},closePopup(){this.popupTitle=""}}},C=y,T=(s("0c08"),Object(p["a"])(C,a,o,!1,null,"a5ce8618",null));t["default"]=T.exports},"40e8":function(e,t,s){},"4a8f":function(e,t,s){},"4c72":function(e,t,s){"use strict";var a=s("4a8f"),o=s.n(a);o.a},"64cd":function(e,t,s){e.exports=s.p+"img/login-2.58ce4239.png"},"8c2a":function(e,t,s){},"9df2":function(e,t,s){"use strict";var a=s("40e8"),o=s.n(a);o.a},b361:function(e,t,s){"use strict";var a=s("eb8e"),o=s.n(a);o.a},dce9:function(e,t,s){e.exports=s.p+"img/login-1.1415c1c5.png"},eb8e:function(e,t,s){},fd96:function(e,t,s){e.exports=s.p+"img/login-0.0447fe9b.png"}}]);
//# sourceMappingURL=chunk-1bc89c42.984e6fb6.js.map