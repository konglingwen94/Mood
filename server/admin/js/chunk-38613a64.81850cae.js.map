{"version":3,"sources":["webpack:///./src/views/envelope/info.vue?b6a4","webpack:///src/views/envelope/info.vue","webpack:///./src/views/envelope/info.vue?c549","webpack:///./src/views/envelope/info.vue","webpack:///./src/components/Date.vue?e087","webpack:///src/components/Date.vue","webpack:///./src/components/Date.vue?a461","webpack:///./src/components/Date.vue","webpack:///./src/views/envelope/info.vue?52dd"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","ref","staticStyle","attrs","toolbars","on","change","model","value","data","callback","$$v","$set","expression","time","getDate","submit","staticRenderFns","components","Date","mavonEditor","content","contentHtml","id","bold","italic","header","underline","strikethrough","mark","superscript","subscript","quote","ol","ul","link","alignleft","aligncenter","alignright","subfield","$route","query","load","methods","$request","$http","get","then","res","status","body","$message","error","message","type","_id","post","success","$router","push","$infoUpdate","component","name","props","watch","timestamp","$emit","val","originalDate"],"mappings":"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","file":"js/chunk-38613a64.81850cae.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',{staticClass:\"tit\"},[_vm._v(\"一字一句，无人知晓！\")]),_c('mavon-editor',{ref:\"markdown\",staticStyle:{\"height\":\"60vh\"},attrs:{\"subfield\":false,\"toolbars\":_vm.toolbars},on:{\"change\":_vm.change},model:{value:(_vm.data.content),callback:function ($$v) {_vm.$set(_vm.data, \"content\", $$v)},expression:\"data.content\"}}),_c('section',[_c('Date',{attrs:{\"originalDate\":_vm.data.time},on:{\"getDate\":_vm.getDate}})],1),_c('el-button',{staticClass:\"submit\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"SUBMIT\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        \n        <h2 class=\"tit\">一字一句，无人知晓！</h2>\n\n        <mavon-editor \n            v-model=\"data.content\" \n            ref=\"markdown\" \n            style=\"height: 60vh\" \n            :subfield=\"false\"\n            @change=\"change\"\n            :toolbars=\"toolbars\"\n        />\n\n        <section>\n            <Date @getDate=\"getDate\" :originalDate=\"data.time\" />\n        </section>\n\n        <el-button class=\"submit\" type=\"primary\" @click=\"submit\">SUBMIT</el-button>\n    </div>\n</template>\n\n<script>\nimport Date from '@/components/Date'\nimport { mavonEditor } from 'mavon-editor'\nimport 'mavon-editor/dist/css/index.css'\nexport default {\n    components: {\n        Date,\n        mavonEditor\n    },\n    data() {\n        return {\n            data: {\n                content: '',            // 内容\n                contentHtml: '',        // 内容解析html\n                time: '',               // 时间\n            },\n            id: null,\n            toolbars: {\n                bold: true,         // 粗体\n                italic: true,       // 斜体\n                header: true,       // 标题\n                underline: true,    // 下划线\n                strikethrough: true,// 中划线\n                mark: true,         // 标记\n                superscript: true,  // 上角标\n                subscript: true,    // 下角标\n                quote: true,        // 引用\n                ol: true,           // 有序列表\n                ul: true,           // 无序列表\n                link: true,         // 链接\n                alignleft: true,    // 左对齐\n                aligncenter: true,  // 居中\n                alignright: true,   // 右对齐\n                subfield: true,     // 单双栏模式\n            }\n        }\n    },\n    created() {\n        this.id = this.$route.query.id\n        this.id && this.load(this.id)\n    },\n    methods: {\n        load(id) {\n            this.$request(() => this.$http.get(`envelope/${id}`)\n                .then(res => {\n                    if (res.data.status === 1) {\n                        this.data = res.data.body\n                    } else {\n                        this.$message.error(res.data.body.message)\n                    }\n                })\n            )\n        },\n        getDate(time) {\n            this.data.time = time\n        },\n        change(value, render) {\n            this.data.contentHtml = render;     // render 为 markdown 解析后的结果[html]\n            this.data.content = value;          // 输入的内容\n        },\n        submit() {\n            if (!this.data.content || !this.data.time) {\n                this.$message.error('请填写完整的信息')\n                return\n            }\n            const type = this.id ? `/envelope/${this.data._id}` : '/envelope'\n            const message = this.id ? '修改成功' : '发布成功'\n\n            this.$request(() => this.$http.post(type, this.data).then(res => {\n                this.$message.success(message)\n                this.$router.push('/envelope')\n                this.$infoUpdate()\n            }))\n        }\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\nsection{\n    margin: 15px 0;\n    .el-input{\n        width: 100%;\n        height: 38px;\n        margin: 5px 0;\n        ::v-deep input{\n            border-color: #eee !important;\n        }\n    }\n}\n.markdown-body{\n    height: 70vh;\n    box-shadow: none !important;\n    border: 1px solid #eee !important;\n}\n.submit{\n    width: 200px;\n    height: 40px;\n    font-size: 14px;\n    color: #fff;\n}\n@media screen and (max-width: 600px) {\n    .markdown-body{\n        height: 60vh !important;\n        box-shadow: none !important;\n    }\n    section{\n        margin: 10px 0;\n        box-shadow: none;\n    }\n    .submit{\n        width: 150px;\n        height: 36px;\n        margin: 0 0 20px;\n        line-height: 36px;\n        padding: 0;\n    }\n}\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./info.vue?vue&type=template&id=024b43e8&scoped=true&\"\nimport script from \"./info.vue?vue&type=script&lang=js&\"\nexport * from \"./info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./info.vue?vue&type=style&index=0&id=024b43e8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"024b43e8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-date-picker',{attrs:{\"type\":\"datetime\",\"placeholder\":\"选择日期时间\",\"value-format\":\"timestamp\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<el-date-picker\n\t\tv-model=\"value\"\n\t\ttype=\"datetime\"\n\t\tplaceholder=\"选择日期时间\"\n\t\tvalue-format=\"timestamp\"\n\t>\n\t</el-date-picker>\n</template>\n\n<script>\nexport default {\n\tname: 'Date',\n\tprops: ['originalDate'],\n\tdata() {\n\t\treturn {\n\t\t\tvalue: '',\n\t\t}\n\t},\n\twatch: {\n\t\tvalue(timestamp) {\n\t\t\tthis.$emit('getDate', timestamp)\n\t\t},\n\t\toriginalDate(val) {\n\t\t\tthis.value = this.originalDate\n\t\t},\n\t},\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Date.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Date.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Date.vue?vue&type=template&id=52165667&\"\nimport script from \"./Date.vue?vue&type=script&lang=js&\"\nexport * from \"./Date.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=style&index=0&id=024b43e8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=style&index=0&id=024b43e8&lang=scss&scoped=true&\""],"sourceRoot":""}