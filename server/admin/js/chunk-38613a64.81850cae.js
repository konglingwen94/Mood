(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38613a64"],{4405:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",{staticClass:"tit"},[t._v("一字一句，无人知晓！")]),a("mavon-editor",{ref:"markdown",staticStyle:{height:"60vh"},attrs:{subfield:!1,toolbars:t.toolbars},on:{change:t.change},model:{value:t.data.content,callback:function(e){t.$set(t.data,"content",e)},expression:"data.content"}}),a("section",[a("Date",{attrs:{originalDate:t.data.time},on:{getDate:t.getDate}})],1),a("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:t.submit}},[t._v("SUBMIT")])],1)},s=[],n=a("6ba5"),o=a("b2d8"),r=(a("64e1"),{components:{Date:n["a"],mavonEditor:o["mavonEditor"]},data(){return{data:{content:"",contentHtml:"",time:""},id:null,toolbars:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,link:!0,alignleft:!0,aligncenter:!0,alignright:!0,subfield:!0}}},created(){this.id=this.$route.query.id,this.id&&this.load(this.id)},methods:{load(t){this.$request(()=>this.$http.get(`envelope/${t}`).then(t=>{1===t.data.status?this.data=t.data.body:this.$message.error(t.data.body.message)}))},getDate(t){this.data.time=t},change(t,e){this.data.contentHtml=e,this.data.content=t},submit(){if(!this.data.content||!this.data.time)return void this.$message.error("请填写完整的信息");const t=this.id?`/envelope/${this.data._id}`:"/envelope",e=this.id?"修改成功":"发布成功";this.$request(()=>this.$http.post(t,this.data).then(t=>{this.$message.success(e),this.$router.push("/envelope"),this.$infoUpdate()}))}}}),l=r,u=(a("f672"),a("2877")),c=Object(u["a"])(l,i,s,!1,null,"024b43e8",null);e["default"]=c.exports},6983:function(t,e,a){},"6ba5":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间","value-format":"timestamp"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})},s=[],n={name:"Date",props:["originalDate"],data(){return{value:""}},watch:{value(t){this.$emit("getDate",t)},originalDate(t){this.value=this.originalDate}}},o=n,r=a("2877"),l=Object(r["a"])(o,i,s,!1,null,null,null);e["a"]=l.exports},f672:function(t,e,a){"use strict";var i=a("6983"),s=a.n(i);s.a}}]);
//# sourceMappingURL=chunk-38613a64.81850cae.js.map